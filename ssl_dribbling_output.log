[DribblingDemo] Starting RRT + Trapezoidal Trajectory Dribbling Demo...
[est::StateEstimator::StateEstimator]
[hw::HardwareManager::HardwareManager]
[hw::MotorDriver::MotorDriver]
[hw::GyroDriver::GyroDriver]
[rob::RobotManager::RobotManager]

Demo Instructions:
1. Robot starts at (-2.0, -1.5)
2. Ball is positioned at (0.0, 0.0)
3. Target is at (2.0, 1.5)
4. Robot uses RRT to plan path to ball
5. Robot approaches ball and starts dribbling
6. Robot uses RRT to plan path to target while dribbling
7. Robot dribbles ball to target
8. Press ESC to exit

[DribblingDemo] Planning RRT path from robot to ball...
[RRT] Starting path planning from (-2000, -1500) to (0, 0)
[RRT] Goal reached! Distance: 146.263mm, Iterations: 12
[RRT] Path smoothed from 14 to 6 waypoints
[DribblingDemo] ✅ Found RRT path with 6 waypoints
[rob::RobotManager::SetPath]   -2 -1.5    0 ->   -1.2122 -0.886398         0 -> -0.851251 -0.714506         0 -> -0.530904 -0.476114         0 -> -0.171363 -0.300887         0 -> 0 0 0
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 1
[ctrl::Trajectory3D::IsFeasible] h: 0.787796 0.613602        0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise: 0.221474 0.167414        0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a: 0.442949 0.334828        0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d: 0.442949 0.334828        0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 2
[ctrl::Trajectory3D::IsFeasible] h: 0.360953 0.171893        0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise: 0.0947247 0.0439385         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a:  0.189449 0.0878769         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d:  0.189449 0.0878769         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 3
[ctrl::Trajectory3D::IsFeasible] h: 0.320347 0.238392        0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise: 0.0835795 0.0614883         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a: 0.167159 0.122977        0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d: 0.167159 0.122977        0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 4
[ctrl::Trajectory3D::IsFeasible] h: 0.359541 0.175227        0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise: 0.0943347 0.0448108         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a:  0.188669 0.0896217         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d:  0.188669 0.0896217         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 5
[ctrl::Trajectory3D::IsFeasible] h: 0.171363 0.300887        0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise:    0.0438 0.0782861         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a:   0.0876 0.156572        0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d:   0.0876 0.156572        0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added all new trajs

[ctrl::TrajectoryManager::MergeNewTrajectoriesFirstCall]
[rob::RobotManager::SetPath] Finish creating trajectories. t_finish_s: 20.0001

[DribblingDemo] ✅ Set trajectory path with 6 waypoints
[ctrl::TrapezoidalTrajectory3D::Print] Trajectory Info. Pose:   -2 -1.5    0 ->   -1.2122 -0.886398         0. Time: 0.000138934 -> 4.00014. v0: 0 0 0

[DribblingDemo] ✅ Robot reached ball area! Distance: 0.00248448m
[DribblingDemo] Starting dribble...
[DribblingDemo] Planning RRT path from ball to target while dribbling...
[RRT] Starting path planning from (0, 0) to (2000, 1500)
[RRT] Goal reached! Distance: 153.848mm, Iterations: 21
[RRT] Path smoothed from 20 to 13 waypoints
[DribblingDemo] ✅ Found RRT dribbling path with 13 waypoints
[rob::RobotManager::SetPath] 0 0 0 ->  0.286365 0.0887926         0 ->  0.28073 0.238687        0 -> 0.429273  0.25954        0 -> 0.777432   0.5443        0 ->  0.9181 0.59638       0 ->  1.14835 0.788691        0 ->  1.44677 0.763328        0 ->   1.717 1.12316       0 -> 1.82921  1.2227       0 -> 1.76385 1.35771       0 -> 1.84716 1.48245       0 ->   2 1.5   0
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 1
[ctrl::Trajectory3D::IsFeasible] h:  0.286365 0.0887926         0. v0: 0.221474 0.167414        0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise: 0.0782503 0.0272929         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a: 0.286448 0.280243        0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d:  0.156501 0.0545858         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 2
[ctrl::Trajectory3D::IsFeasible] h: -0.00563478    0.149894           0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise: -0.00140969   0.0382033           0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a: 0.00281938  0.0764066          0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d: 0.00281938  0.0764066          0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 3
[ctrl::Trajectory3D::IsFeasible] h:  0.148543 0.0208531         0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise:  0.0378523 0.00522693          0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a: 0.0757045 0.0104539         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d: 0.0757045 0.0104539         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 4
[ctrl::Trajectory3D::IsFeasible] h: 0.348158 0.284761        0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise: 0.0911981 0.0739224         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a: 0.182396 0.147845        0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d: 0.182396 0.147845        0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 5
[ctrl::Trajectory3D::IsFeasible] h:  0.140669 0.0520801         0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise: 0.0358083 0.0131059         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a: 0.0716166 0.0262118         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d: 0.0716166 0.0262118         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 6
[ctrl::Trajectory3D::IsFeasible] h: 0.230253 0.192311        0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise: 0.0593229 0.0492926         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a:  0.118646 0.0985853         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d:  0.118646 0.0985853         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 7
[ctrl::Trajectory3D::IsFeasible] h:    0.29842 -0.0253637          0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise:   0.0776171 -0.00636115           0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a:  0.155234 0.0127223         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d:  0.155234 0.0127223         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 8
[ctrl::Trajectory3D::IsFeasible] h: 0.270226  0.35983        0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise:  0.070007 0.0944147         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a: 0.140014 0.188829        0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d: 0.140014 0.188829        0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 9
[ctrl::Trajectory3D::IsFeasible] h:  0.112211 0.0995429         0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise: 0.0284576 0.0252033         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a: 0.0569151 0.0504067         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d: 0.0569151 0.0504067         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 10
[ctrl::Trajectory3D::IsFeasible] h: -0.0653584   0.135012          0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise: -0.0164753  0.0343427          0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a: 0.0329506 0.0686855         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d: 0.0329506 0.0686855         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 11
[ctrl::Trajectory3D::IsFeasible] h: 0.0833041  0.124741         0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise: 0.0210475 0.0316874         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a: 0.0420951 0.0633748         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d: 0.0420951 0.0633748         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added new traj 12
[ctrl::Trajectory3D::IsFeasible] h:  0.152845 0.0175453         0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise:  0.0389705 0.00439598          0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a:  0.0779411 0.00879197          0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d:  0.0779411 0.00879197          0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::CreateTrajectoriesFromPath] Added all new trajs

[ctrl::Trajectory3D::IsFeasible] h:  0.286365 0.0887926         0. v0: 0 0 0. T: 4
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] v_cruise: 0.0743556 0.0224502         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_a:  0.148711 0.0449003         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] t_d:  0.148711 0.0449003         0
[ctrl::TrapezoidalTrajectoryVi3D::TrapezoidalTrajectoryVi3D] T: 4
[ctrl::TrajectoryManager::MergeNewTrajectoryAtT] Merged Trajectory: 
[ctrl::TrapezoidalTrajectory3D::Print] Trajectory Info. Pose: 0 0 0 ->  0.286365 0.0887926         0. Time: 0.653512 -> 4.65351. v0: 0 0 0

[ctrl::TrapezoidalTrajectory3D::Print] Trajectory Info. Pose:   -1.2122 -0.886398         0 -> -0.851251 -0.714506         0. Time: 4.00014 -> 8.00014. v0: 0 0 0

[ctrl::TrapezoidalTrajectory3D::Print] Trajectory Info. Pose: -0.851251 -0.714506         0 -> -0.530904 -0.476114         0. Time: 8.00014 -> 12.0001. v0: 0 0 0

[ctrl::TrapezoidalTrajectory3D::Print] Trajectory Info. Pose: -0.530904 -0.476114         0 -> -0.171363 -0.300887         0. Time: 12.0001 -> 16.0001. v0: 0 0 0

[ctrl::TrapezoidalTrajectory3D::Print] Trajectory Info. Pose: -0.171363 -0.300887         0 -> 0 0 0. Time: 16.0001 -> 20.0001. v0: 0 0 0

[ctrl::TrapezoidalTrajectory3D::Print] Trajectory Info. Pose: 0 0 0 ->  0.286365 0.0887926         0. Time: 0.653512 -> 4.65351. v0: 0 0 0

[rob::RobotManager::SetPath] Finish creating trajectories. t_finish_s: 48.6535

[DribblingDemo] ✅ Set dribbling trajectory with 13 waypoints
[DribblingDemo] Dribbling to target... Robot at (0.171072, 0.138514), Distance to target: 2.28005m
[rob::RobotManager::SenseLogic] Pose (est): 0.285258 0.224828        0
[DribblingDemo] Dribbling to target... Robot at (0.394579, 0.307465), Distance to target: 1.99988m
[DribblingDemo] Ball: pos(-0.0406765, -0.0406765), speed=0 m/s, attached=NO
[rob::RobotManager::SenseLogic] Pose (est): 0.564753 0.436101        0
[DribblingDemo] Dribbling to target... Robot at (0.616036, 0.474866), Distance to target: 1.72228m
[ctrl::TrapezoidalTrajectory3D::Print] Trajectory Info. Pose:   -1.2122 -0.886398         0 -> -0.851251 -0.714506         0. Time: 4.00014 -> 8.00014. v0: 0 0 0

[DribblingDemo] Dribbling to target... Robot at (0.786772, 0.613032), Distance to target: 1.50288m
[DribblingDemo] Ball: pos(-0.0406765, -0.0406765), speed=0 m/s, attached=NO
[rob::RobotManager::SenseLogic] Pose (est): 0.787036 0.613296        0
[DribblingDemo] Dribbling to target... Robot at (0.875161, 0.656253), Distance to target: 1.40612m
[rob::RobotManager::SenseLogic] Pose (est): 0.900753 0.668124        0
[DribblingDemo] Ball: pos(-0.0406765, -0.0406765), speed=0 m/s, attached=NO
[DribblingDemo] Dribbling to target... Robot at (0.971783, 0.701072), Distance to target: 1.30212m
[rob::RobotManager::SenseLogic] Pose (est):   1.0201 0.723482        0
[DribblingDemo] Dribbling to target... Robot at (1.06838, 0.745879), Distance to target: 1.19859m
[rob::RobotManager::SenseLogic] Pose (est):  1.14034 0.779272        0
[ctrl::TrapezoidalTrajectory3D::Print] Trajectory Info. Pose: -0.851251 -0.714506         0 -> -0.530904 -0.476114         0. Time: 8.00014 -> 12.0001. v0: 0 0 0

[DribblingDemo] Ball: pos(-0.0406765, -0.0406765), speed=0 m/s, attached=NO
[DribblingDemo] Dribbling to target... Robot at (1.14986, 0.786524), Distance to target: 1.10986m
[DribblingDemo] Dribbling to target... Robot at (1.23097, 0.847229), Distance to target: 1.00872m
[rob::RobotManager::SenseLogic] Pose (est):  1.23179 0.847832        0
[DribblingDemo] Ball: pos(-0.0406765, -0.0406765), speed=0 m/s, attached=NO
[DribblingDemo] Dribbling to target... Robot at (1.31453, 0.908701), Distance to target: 0.905264m
[rob::RobotManager::SenseLogic] Pose (est):  1.33708 0.925294        0
[DribblingDemo] Dribbling to target... Robot at (1.39811, 0.970189), Distance to target: 0.801854m
[rob::RobotManager::SenseLogic] Pose (est): 1.44239 1.00276       0
[ctrl::TrapezoidalTrajectory3D::Print] Trajectory Info. Pose: -0.530904 -0.476114         0 -> -0.171363 -0.300887         0. Time: 12.0001 -> 16.0001. v0: 0 0 0

[DribblingDemo] Ball: pos(-0.0406765, -0.0406765), speed=0 m/s, attached=NO
[DribblingDemo] Dribbling to target... Robot at (1.47058, 1.02526), Distance to target: 0.711103m
[rob::RobotManager::SenseLogic] Pose (est): 1.54009 1.05976       0
[DribblingDemo] Dribbling to target... Robot at (1.56369, 1.07097), Distance to target: 0.611911m
[DribblingDemo] Ball: pos(-0.0406765, -0.0406765), speed=0 m/s, attached=NO
[DribblingDemo] Dribbling to target... Robot at ([rob::RobotManager::SenseLogic] Pose (est): 1.65801, 1.11577), Distance to target: 1.65896 1.11622       0
0.514381m
[DribblingDemo] ✅ Robot reached target area while dribbling! Distance: 0.499026m

[DribblingDemo] ✅ Demo completed successfully!
[DribblingDemo] Robot successfully dribbled ball from center to target!
[DribblingDemo] Press ESC to exit
[rob::RobotManager::SenseLogic] Pose (est): 1.77716 1.17237       0
[ctrl::TrapezoidalTrajectory3D::Print] Trajectory Info. Pose: -0.171363 -0.300887         0 -> 0 0 0. Time: 16.0001 -> 20.0001. v0: 0 0 0

[DribblingDemo] Ball: pos(-0.0406765, -0.0406765), speed=0 m/s, attached=NO
[rob::RobotManager::SenseLogic] Pose (est): 1.85373 1.24121       0
[rob::RobotManager::SenseLogic] Pose (est): 1.90891 1.33984       0
[DribblingDemo] Ball: pos(-0.0406765, -0.0406765), speed=0 m/s, attached=NO
[rob::RobotManager::SenseLogic] Pose (est):  1.9641 1.43847       0
[DribblingDemo] Simulation window closed
[DribblingDemo] Demo finished!
